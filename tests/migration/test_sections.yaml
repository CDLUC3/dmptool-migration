test_sections:
  model: migration.sections

  inputs:
    source_db.sections:
      rows:
        - id: 11
          title: "Section one"
          description: "Overview of the project"
          number: 99
          created_at: "2023-01-01T00:00:00Z"
          updated_at: "2023-01-02T00:00:00Z"

        - id: 22
          title: "Section A"
          description: "Details of project"
          number: 2
          created_at: "2024-01-01T00:00:00Z"
          updated_at: "2024-01-02T00:00:00Z"

        - id: 33
          title: "Section B"
          description: "More details"
          number: 3
          created_at: "2025-05-01T00:00:00Z"
          updated_at: "2025-05-02T00:00:00Z"

    intermediate.sections:
      columns:
        old_template_id: INT
        old_section_id: INT
      rows:
        - old_template_id: 10
          old_section_id: 11

        - old_template_id: 20
          old_section_id: 22

        - old_template_id: 20
          old_section_id: 33

    migration.templates:
      columns:
        id: INT
        old_template_id: INT
        bestPractice: BOOLEAN
        isDirty: BOOLEAN
        createdById: INT
        modifiedById: INT
      rows:
        - id: 900
          old_template_id: 10
          bestPractice: true
          isDirty: false
          createdById: 999
          modifiedById: 999

        - id: 901
          old_template_id: 20
          bestPractice: false
          isDirty: true
          createdById: 123
          modifiedById: 456

  outputs:
    columns:
      id: INT
      old_section_id: INT
      templateId: INT
      name: VARCHAR(255)
      introduction: MEDIUMTEXT
      old_display_order: INT
      displayOrder: INT
      bestPractice: BOOLEAN
      isDirty: BOOLEAN
      created: DATETIME
      createdById: INT
      modified: DATETIME
      modifiedById: INT
    query:
      - id: 1
        old_section_id: 11
        templateId: 900
        name: "Section one"
        introduction: "Overview of the project"
        old_display_order: 99
        displayOrder: 1
        bestPractice: true
        isDirty: false
        created: "2023-01-01 00:00:00"
        createdById: 999
        modified: "2023-01-02 00:00:00"
        modifiedById: 999

      - id: 2
        old_section_id: 22
        templateId: 901
        name: "Section A"
        introduction: "Details of project"
        old_display_order: 2
        displayOrder: 1
        bestPractice: false
        isDirty: true
        created: "2024-01-01 00:00:00"
        createdById: 123
        modified: "2024-01-02 00:00:00"
        modifiedById: 456

      - id: 3
        old_section_id: 33
        templateId: 901
        name: "Section B"
        introduction: "More details"
        old_display_order: 3
        displayOrder: 2
        bestPractice: false
        isDirty: true
        created: "2025-05-01 00:00:00"
        createdById: 123
        modified: "2025-05-02 00:00:00"
        modifiedById: 456
