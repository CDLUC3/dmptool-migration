test_projects:
  model: migration.projects
  vars:
    execution_time: "2025-10-01 00:00:00"

  inputs:
    intermediate.research_domains_mapping:
      rows:
        - old_id: 1
          new_id: 1
        - old_id: 9
          new_id: 2

    intermediate.plans:
      rows:
        - id: 1
          title: "Plan 1"
          description: "Description 1"
          research_domain_id: 1
          start_date: "2020-01-01 00:00:00"
          end_date: "2023-01-01 00:00:00"
          is_test_plan: 0
          owner_email: "owner1@example.com"
          created_at: "2024-01-01 00:00:00"
          updated_at: "2024-01-02 00:00:00"
        - id: 2
          title: "Plan 2"
          description: "Description 2"
          research_domain_id: 9
          start_date: "2021-01-01 00:00:00"
          end_date: "2024-01-01 00:00:00"
          is_test_plan: 1
          owner_email: "owner2@example.com"
          created_at: "2025-01-01 00:00:00"
          updated_at: "2025-01-02 00:00:00"

    intermediate.users:
      rows:
        - id: 1
          email: "owner1@example.com"
        - id: 2
          email: "owner2@example.com"

  outputs:
    query:
      rows:
        - id: 1
          title: "Plan 1"
          abstractText: "Description 1"
          researchDomainId: 1
          startDate: "2020-01-01"
          endDate: "2023-01-01"
          isTestProject: 0
          createdById: 1
          created: "2024-01-01 00:00:00"
          modifiedById: 1
          modified: "2024-01-02 00:00:00"

        - id: 2
          title: "Plan 2"
          abstractText: "Description 2"
          researchDomainId: 2
          startDate: "2021-01-01"
          endDate: "2024-01-01"
          isTestProject: 1
          createdById: 2
          created: "2025-01-01 00:00:00"
          modifiedById: 2
          modified: "2025-01-02 00:00:00"
